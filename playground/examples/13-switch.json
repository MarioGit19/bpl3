{
  "order": 13,
  "title": "Switch Statements",
  "snippet": "Multi-way branching",
  "description": "Switch statements provide efficient multi-way branching based on a value. Cases must be compile-time constant expressions. Each case should end with 'break' to prevent fall-through to the next case - omitting break is legal but usually unintentional. Multiple cases can be grouped together for the same action. The 'default' case handles values that don't match any case and is optional but recommended. Switch statements compile to jump tables for better performance than if-else chains. This example demonstrates basic switch usage, fall-through patterns, and default handling.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "frame getDayName(day: int) ret string {",
    "    switch (day) {",
    "        case 1: { return \"Monday\"; }",
    "        case 2: { return \"Tuesday\"; }",
    "        case 3: { return \"Wednesday\"; }",
    "        case 4: { return \"Thursday\"; }",
    "        case 5: { return \"Friday\"; }",
    "        case 6: { return \"Saturday\"; }",
    "        case 7: { return \"Sunday\"; }",
    "        default: { return \"Invalid day\"; }",
    "    }",
    "}",
    "",
    "frame main() ret int {",
    "    local day: int;",
    "    ",
    "    day = 3;",
    "    printf(\"Day %d is %s\\n\", day, getDayName(day));",
    "    ",
    "    # Switch with integer",
    "    local choice: int;",
    "    choice = 2;",
    "    ",
    "    switch (choice) {",
    "        case 1: { printf(\"You selected option 1\\n\"); }",
    "        case 2: { printf(\"You selected option 2\\n\"); }",
    "        case 3: { printf(\"You selected option 3\\n\"); }",
    "        default: { printf(\"Invalid choice\\n\"); }",
    "    }",
    "    ",
    "    # Grade evaluation",
    "    local score: int;",
    "    score = 85;",
    "    ",
    "    switch (score / 10) {",
    "        case 10: { printf(\"Grade: A\\n\"); }",
    "        case 9: { printf(\"Grade: A\\n\"); }",
    "        case 8: { printf(\"Grade: B\\n\"); }",
    "        case 7: { printf(\"Grade: C\\n\"); }",
    "        default: { printf(\"Grade: F\\n\"); }",
    "    }",
    "    ",
    "    return 0;",
    "}"
  ]
}
