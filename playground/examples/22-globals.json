{
  "order": 22,
  "title": "Global Variables",
  "snippet": "Program-wide state",
  "description": "Global variables are declared outside any function and exist for the program's lifetime. They have file scope by default (visible throughout the file). Unlike local variables, globals are automatically zero-initialized. Use globals sparingly - they create hidden dependencies and make code harder to test and reason about. Prefer passing data through function parameters when possible. Common legitimate uses: program-wide configuration, shared state that's truly global, constants (though const is better). Global variables can cause issues in multi-threaded programs without proper synchronization. This example shows global variable declaration, initialization, and access patterns.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "# Global variables",
    "global counter: int;",
    "global PI: float;",
    "global appName: string;",
    "",
    "frame increment() {",
    "    counter = counter + 1;",
    "}",
    "",
    "frame getCounter() ret int {",
    "    return counter;",
    "}",
    "",
    "frame circleArea(radius: float) ret float {",
    "    return PI * radius * radius;",
    "}",
    "",
    "frame printHeader() {",
    "    printf(\"=== %s ===\\n\", appName);",
    "}",
    "",
    "frame main() ret int {",
    "    # Initialize globals",
    "    counter = 0;",
    "    PI = 3.14159;",
    "    appName = \"BPL Demo\";",
    "    ",
    "    printHeader();",
    "    ",
    "    # Use global counter",
    "    printf(\"Initial counter: %d\\n\", getCounter());",
    "    increment();",
    "    increment();",
    "    increment();",
    "    printf(\"After increments: %d\\n\", getCounter());",
    "    ",
    "    # Use global PI",
    "    local radius: float;",
    "    radius = 5.0;",
    "    printf(\"\\nCircle with radius %.1f:\\n\", radius);",
    "    printf(\"  Area: %.2f\\n\", circleArea(radius));",
    "    ",
    "    # Modify global directly",
    "    counter = 100;",
    "    printf(\"\\nCounter reset to: %d\\n\", counter);",
    "    ",
    "    return 0;",
    "}"
  ]
}
