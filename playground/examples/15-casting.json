{
  "order": 15,
  "title": "Type Casting",
  "snippet": "Converting between types",
  "description": "Type casting converts values between different types using the cast<TargetType>(expression) syntax. BPL requires explicit casts for most conversions - implicit conversions are limited. Common casts include: integer ↔ float (may lose precision), integer ↔ char (ASCII values), void* ↔ typed pointers (for malloc/free). Narrowing casts (e.g., long to int) may truncate values. Pointer casts reinterpret memory without changing the underlying bits - use carefully as incorrect casts cause undefined behavior. This example shows numeric conversions, pointer casting, and precision handling.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "frame main() ret int {",
    "    local i: int;",
    "    local f: float;",
    "    ",
    "    # Int to float",
    "    i = 10;",
    "    f = cast<float>(i);",
    "    printf(\"int %d as float: %.2f\\n\", i, f);",
    "    ",
    "    # Float to int (truncates)",
    "    f = 3.14159;",
    "    i = cast<int>(f);",
    "    printf(\"float %.2f as int: %d\\n\", f, i);",
    "    ",
    "    # Calculations with mixed types",
    "    local intVal: int;",
    "    local floatVal: float;",
    "    local result: float;",
    "    ",
    "    intVal = 7;",
    "    floatVal = 2.0;",
    "    ",
    "    # Cast int to float for division",
    "    result = cast<float>(intVal) / floatVal;",
    "    printf(\"\\n%d / %.1f = %.2f\\n\", intVal, floatVal, result);",
    "    ",
    "    # Without cast (integer division)",
    "    local intResult: int;",
    "    intResult = 7 / 2;",
    "    printf(\"7 / 2 (int division) = %d\\n\", intResult);",
    "    ",
    "    # With cast",
    "    local floatResult: float;",
    "    floatResult = cast<float>(7) / cast<float>(2);",
    "    printf(\"7 / 2 (float division) = %.2f\\n\", floatResult);",
    "    ",
    "    return 0;",
    "}"
  ]
}
