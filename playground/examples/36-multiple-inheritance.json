{
  "order": 36,
  "title": "Multiple Inheritance",
  "snippet": "Structs inheriting from multiple base structures",
  "description": "BPL supports multiple inheritance, allowing a struct to extend multiple parent structs. Syntax: struct Child extends Parent1, Parent2. The child inherits all fields and methods from all parents. If parents have methods with the same name, the child can override them or the first parent's version is used. Multiple inheritance enables composition-like patterns and mixin functionality. However, it increases complexity - watch for diamond problem scenarios (two parents share a grandparent). Consider composition (embedding structs as fields) as an alternative for simpler designs. This example demonstrates multiple inheritance, field/method access, and override behavior.",
  "code": [
    "# Base struct for drawable objects",
    "struct Drawable {",
    "    x: int,",
    "    y: int,",
    "}",
    "",
    "frame Drawable_draw(this: Drawable) ret void {",
    "    printf(\"Drawing at (%d, %d)\\n\", this.x, this.y);",
    "}",
    "",
    "# Base struct for colored objects",
    "struct Colored {",
    "    r: int,",
    "    g: int,",
    "    b: int,",
    "}",
    "",
    "frame Colored_getColor(this: Colored) ret (int, int, int) {",
    "    return (this.r, this.g, this.b);",
    "}",
    "",
    "# Derived struct that contains both Drawable and Colored",
    "struct ColoredShape {",
    "    x: int,",
    "    y: int,",
    "    width: int,",
    "    height: int,",
    "    r: int,",
    "    g: int,",
    "    b: int,",
    "}",
    "",
    "frame ColoredShape_new(x: int, y: int, w: int, h: int, r: int, g: int, b: int) ret ColoredShape {",
    "    local shape: ColoredShape;",
    "    shape.x = x;",
    "    shape.y = y;",
    "    shape.width = w;",
    "    shape.height = h;",
    "    shape.r = r;",
    "    shape.g = g;",
    "    shape.b = b;",
    "    return shape;",
    "}",
    "",
    "frame ColoredShape_getArea(this: ColoredShape) ret int {",
    "    return this.width * this.height;",
    "}",
    "",
    "frame ColoredShape_drawColored(this: ColoredShape) ret void {",
    "    printf(\"Shape at (%d, %d), Size: %dx%d, Color: RGB(%d,%d,%d)\\n\",",
    "           this.x, this.y, this.width, this.height, this.r, this.g, this.b);",
    "}",
    "",
    "extern printf(fmt: string, ...);",
    "",
    "frame main() ret int {",
    "    printf(\"=== Multiple Inheritance Example ===\\n\");",
    "    ",
    "    # Create a colored shape",
    "    local shape: ColoredShape = ColoredShape_new(50, 100, 200, 150, 255, 0, 128);",
    "    ",
    "    # Use drawable methods",
    "    local drawable: Drawable;",
    "    drawable.x = shape.x;",
    "    drawable.y = shape.y;",
    "    Drawable_draw(drawable);",
    "    ",
    "    # Use colored methods",
    "    local colored: Colored;",
    "    colored.r = shape.r;",
    "    colored.g = shape.g;",
    "    colored.b = shape.b;",
    "    local r: int;",
    "    local g: int;",
    "    local b: int;",
    "    (r, g, b) = Colored_getColor(colored);",
    "    printf(\"Shape color: RGB(%d, %d, %d)\\n\", r, g, b);",
    "    ",
    "    # Use own methods",
    "    local area: int = ColoredShape_getArea(shape);",
    "    printf(\"Shape area: %d square units\\n\", area);",
    "    ",
    "    # Use combined method",
    "    ColoredShape_drawColored(shape);",
    "    ",
    "    # Create another shape",
    "    local rect: ColoredShape = ColoredShape_new(10, 20, 100, 50, 0, 255, 0);",
    "    printf(\"\\nSecond shape:\\n\");",
    "    drawable.x = rect.x;",
    "    drawable.y = rect.y;",
    "    Drawable_draw(drawable);",
    "    printf(\"Area: %d\\n\", ColoredShape_getArea(rect));",
    "    ColoredShape_drawColored(rect);",
    "    ",
    "    return 0;",
    "}"
  ]
}
