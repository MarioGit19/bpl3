{
  "order": 24,
  "title": "Multi-dimensional Arrays",
  "snippet": "Arrays of arrays",
  "description": "Two-dimensional arrays represent matrices, grids, and tables. Declared as type[rows][cols], they're stored in row-major order (rows contiguous in memory). Access elements with double indexing: arr[row][col]. When passing to functions, specify all dimensions except the first or use pointers. 2D arrays can be initialized with nested braces {{1,2},{3,4}}. For dynamic 2D arrays, allocate an array of pointers where each points to a row. Applications include: image processing (pixel grids), game boards (chess, tic-tac-toe), mathematical matrices. This example shows 2D array declaration, initialization, iteration patterns, and matrix operations.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "frame printMatrix(matrix: *int, rows: int, cols: int) {",
    "    local i: int;",
    "    local j: int;",
    "    ",
    "    i = 0;",
    "    loop (i < rows) {",
    "        j = 0;",
    "        loop (j < cols) {",
    "            printf(\"%3d \", matrix[i * cols + j]);",
    "            j = j + 1;",
    "        }",
    "        printf(\"\\n\");",
    "        i = i + 1;",
    "    }",
    "}",
    "",
    "frame main() ret int {",
    "    # 3x3 matrix",
    "    local matrix: int[9];",
    "    local i: int;",
    "    local j: int;",
    "    ",
    "    # Initialize with values",
    "    printf(\"Matrix 1 (identity):\\n\");",
    "    i = 0;",
    "    loop (i < 3) {",
    "        j = 0;",
    "        loop (j < 3) {",
    "            if (i == j) {",
    "                matrix[i * 3 + j] = 1;",
    "            } else {",
    "                matrix[i * 3 + j] = 0;",
    "            }",
    "            j = j + 1;",
    "        }",
    "        i = i + 1;",
    "    }",
    "    printMatrix(matrix, 3, 3);",
    "    ",
    "    # Multiplication table",
    "    local table: int[25];",
    "    printf(\"\\nMultiplication table (5x5):\\n\");",
    "    i = 0;",
    "    loop (i < 5) {",
    "        j = 0;",
    "        loop (j < 5) {",
    "            table[i * 5 + j] = (i + 1) * (j + 1);",
    "            j = j + 1;",
    "        }",
    "        i = i + 1;",
    "    }",
    "    printMatrix(table, 5, 5);",
    "    ",
    "    # Sum all elements",
    "    local sum: int;",
    "    sum = 0;",
    "    i = 0;",
    "    loop (i < 25) {",
    "        sum = sum + table[i];",
    "        i = i + 1;",
    "    }",
    "    printf(\"\\nSum of all elements: %d\\n\", sum);",
    "    ",
    "    return 0;",
    "}"
  ]
}
