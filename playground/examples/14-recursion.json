{
  "order": 14,
  "title": "Recursion",
  "snippet": "Functions calling themselves",
  "description": "Recursion is when a function calls itself to solve a problem by breaking it into smaller subproblems. Every recursive function needs a base case (termination condition) to prevent infinite recursion and stack overflow. Recursive calls create stack frames, so deep recursion can exhaust stack space. Many recursive algorithms can be optimized to iterative versions for better performance. Common recursive patterns include divide-and-conquer, tree traversal, and mathematical sequences. This example demonstrates factorial calculation and Fibonacci sequence using recursion, along with base cases and recursive decomposition.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "# Calculate factorial recursively",
    "frame factorial(n: int) ret int {",
    "    if (n <= 1) {",
    "        return 1;",
    "    }",
    "    return n * factorial(n - 1);",
    "}",
    "",
    "# Calculate Fibonacci number recursively",
    "frame fibonacci(n: int) ret int {",
    "    if (n <= 1) {",
    "        return n;",
    "    }",
    "    return fibonacci(n - 1) + fibonacci(n - 2);",
    "}",
    "",
    "# Sum array elements recursively",
    "frame sumArray(arr: *int, size: int) ret int {",
    "    if (size <= 0) {",
    "        return 0;",
    "    }",
    "    return arr[size - 1] + sumArray(arr, size - 1);",
    "}",
    "",
    "# Calculate power recursively",
    "frame power(base: int, exp: int) ret int {",
    "    if (exp == 0) {",
    "        return 1;",
    "    }",
    "    return base * power(base, exp - 1);",
    "}",
    "",
    "frame main() ret int {",
    "    # Factorial",
    "    printf(\"5! = %d\\n\", factorial(5));",
    "    printf(\"7! = %d\\n\", factorial(7));",
    "    ",
    "    # Fibonacci",
    "    local i: int;",
    "    printf(\"\\nFibonacci sequence:\\n\");",
    "    i = 0;",
    "    loop (i < 10) {",
    "        printf(\"%d \", fibonacci(i));",
    "        i = i + 1;",
    "    }",
    "    printf(\"\\n\");",
    "    ",
    "    # Power",
    "    printf(\"\\n2^5 = %d\\n\", power(2, 5));",
    "    printf(\"3^4 = %d\\n\", power(3, 4));",
    "    ",
    "    # Sum array",
    "    local numbers: int[5];",
    "    numbers[0] = 1;",
    "    numbers[1] = 2;",
    "    numbers[2] = 3;",
    "    numbers[3] = 4;",
    "    numbers[4] = 5;",
    "    printf(\"\\nSum of array: %d\\n\", sumArray(numbers, 5));",
    "    ",
    "    return 0;",
    "}"
  ]
}
