{
  "order": 33,
  "title": "Dynamic Arrays",
  "snippet": "Work with dynamically sized arrays",
  "description": "BPL supports both fixed-size arrays and dynamic arrays. Dynamic arrays use the [] syntax without a size and can grow or be manipulated at runtime.",
  "code": "extern printf(fmt: string, ...);\n\nframe printArray(arr: *int, size: int) ret void {\n    local i: int = 0;\n    printf(\"[\");\n    loop (i < size) {\n        if (i > 0) { printf(\", \"); }\n        printf(\"%d\", *(arr + i));\n        i = i + 1;\n    }\n    printf(\"]\\n\");\n}\n\nframe sum(arr: *int, size: int) ret int {\n    local total: int = 0;\n    local i: int = 0;\n    loop (i < size) {\n        total = total + *(arr + i);\n        i = i + 1;\n    }\n    return total;\n}\n\nframe average(arr: *int, size: int) ret float {\n    local total: int = sum(arr, size);\n    local ftotal: float = cast<float>(total);\n    local fsize: float = cast<float>(size);\n    return ftotal / fsize;\n}\n\nframe main() ret int {\n    # Create an array using a fixed-size array\n    local numbers: int[5] = [10, 20, 30, 40, 50];\n    local size: int = 5;\n    \n    printf(\"Array: \");\n    printArray(&numbers[0], size);\n    \n    # Calculate sum\n    local total: int = sum(&numbers[0], size);\n    printf(\"Sum: %d\\n\", total);\n    \n    # Calculate average\n    local avg: float = average(&numbers[0], size);\n    printf(\"Average: %.2f\\n\", avg);\n    \n    # Find maximum\n    local max: int = numbers[0];\n    local i: int = 1;\n    loop (i < size) {\n        if (numbers[i] > max) {\n            max = numbers[i];\n        }\n        i = i + 1;\n    }\n    printf(\"Maximum: %d\\n\", max);\n    \n    # Find minimum\n    local min: int = numbers[0];\n    i = 1;\n    loop (i < size) {\n        if (numbers[i] < min) {\n            min = numbers[i];\n        }\n        i = i + 1;\n    }\n    printf(\"Minimum: %d\\n\", min);\n    \n    return 0;\n}"
}
