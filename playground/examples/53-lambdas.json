{
  "order": 53,
  "title": "Lambda Expressions",
  "snippet": "Anonymous functions and closures",
  "description": "Lambda expressions allow defining anonymous functions inline. They support parameter typing, return type specification, and variable capturing (closures). This example demonstrates basic lambdas, passing lambdas as arguments, and capturing local variables.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "frame apply(op: Func<int>(int, int), a: int, b: int) ret int {",
    "    return op(a, b);",
    "}",
    "",
    "frame main() ret int {",
    "    # 1. Simple lambda assignment",
    "    local square: Func<int>(int) = |x: int| ret int {",
    "        return x * x;",
    "    };",
    "    printf(\"Square of 5: %d\\n\", square(5));",
    "",
    "    # 2. Passing lambda as argument",
    "    local sum: int = apply(|x: int, y: int| ret int {",
    "        return x + y;",
    "    }, 10, 20);",
    "    printf(\"Sum: %d\\n\", sum);",
    "",
    "    # 3. Lambda with no arguments",
    "    local greet: Func<void>() = || {",
    "        printf(\"Hello from lambda!\\n\");",
    "    };",
    "    greet();",
    "",
    "    # 4. Explicit void arguments",
    "    local greet2: Func<void>() = |void| {",
    "        printf(\"Hello again!\\n\");",
    "    };",
    "    greet2();",
    "",
    "    # 5. Closures (Capturing variables)",
    "    local factor: int = 10;",
    "    local multiplier: Func<int>(int) = |x: int| ret int {",
    "        return x * factor;",
    "    };",
    "    printf(\"10 * factor: %d\\n\", multiplier(10));",
    "",
    "    # 6. Ignored arguments",
    "    local ignore: Func<int>(int) = |_| ret int {",
    "        return 42;",
    "    };",
    "    printf(\"Ignored result: %d\\n\", ignore(100));",
    "",
    "    return 0;",
    "}"
  ]
}
