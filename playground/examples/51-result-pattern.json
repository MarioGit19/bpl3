{
  "order": 51,
  "title": "Result Pattern",
  "snippet": "Error handling with Result<T, E>",
  "description": "Demonstrates how to use the Result<T, E> enum pattern for error handling, a common pattern in functional languages.",
  "code": [
    "extern printf(fmt: string, ...);",
    "",
    "enum Result<T, E> {",
    "    Ok(T),",
    "    Err(E),",
    "}",
    "",
    "frame safe_divide(a: int, b: int) ret Result<int, string> {",
    "    if (b == 0) {",
    "        return Result<int, string>.Err(\"Division by zero\");",
    "    }",
    "    return Result<int, string>.Ok(a / b);",
    "}",
    "",
    "frame main() ret int {",
    "    local res: Result<int, string> = safe_divide(10, 2);",
    "    ",
    "    match (res) {",
    "        Result<int, string>.Ok(val) => {",
    "            printf(\"Success: %d\\n\", val);",
    "        },",
    "        Result<int, string>.Err(msg) => {",
    "            printf(\"Error: %s\\n\", msg);",
    "        }",
    "    };",
    "    return 0;",
    "}"
  ]
}
