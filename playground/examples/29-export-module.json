{
  "order": 29,
  "title": "Export - Module Definition",
  "snippet": "Create exportable symbols in a module",
  "description": "The export keyword makes items (functions, structs, types) accessible from other modules. By default, all items are private to their module. Only exported items can be imported elsewhere. This encapsulation principle helps maintain clean module interfaces and prevents internal implementation details from leaking. Best practice: export only the public API, keep helper functions private. Exported items form a contract with other modules - changes may break dependents. This enables modular design where related functionality is grouped together but implementation details remain hidden. This example demonstrates creating a reusable module with exported functions and types.",
  "code": [
    "# In a real project, this would be in a file like 'math_utils.bpl'",
    "# The symbols below would be exported and importable by other modules",
    "",
    "# Helper function - NOT exported (private)",
    "frame square(x: int) ret int {",
    "    return x * x;",
    "}",
    "",
    "# Function that would be exported - can be imported by other modules",
    "frame add(a: int, b: int) ret int {",
    "    return a + b;",
    "}",
    "export add;",
    "",
    "# Function that would be exported - can be imported by other modules",
    "frame multiply(a: int, b: int) ret int {",
    "    return a * b;",
    "}",
    "export multiply;",
    "",
    "# Struct type that would be exported - can be imported by other modules",
    "struct Vector {",
    "    x: int,",
    "    y: int,",
    "}",
    "export [Vector];",
    "",
    "frame Vector_magnitude(this: Vector) ret float {",
    "    local x_sq: int = square(this.x);",
    "    local y_sq: int = square(this.y);",
    "    local sum: int = x_sq + y_sq;",
    "    return cast<float>(sum);",
    "}",
    "export Vector_magnitude;",
    "",
    "extern printf(fmt: string, ...);",
    "",
    "frame main() ret int {",
    "    # Test functions",
    "    local sum: int = add(5, 3);",
    "    local product: int = multiply(4, 6);",
    "    printf(\"5 + 3 = %d\\n\", sum);",
    "    printf(\"4 * 6 = %d\\n\", product);",
    "    ",
    "    # Test struct",
    "    local vec: Vector;",
    "    vec.x = 3;",
    "    vec.y = 4;",
    "    local mag: float = Vector_magnitude(vec);",
    "    printf(\"Vector magnitude: %.2f\\n\", mag);",
    "    ",
    "    return 0;",
    "}"
  ]
}
