<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BPL Playground</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
      rel="stylesheet"
    />
    <style>
      .editor {
        font-family: "Fira Code", monospace;
        font-size: 14px;
        line-height: 1.5;
        height: 100%;
        width: 100%;
        background-color: #2d2d2d;
        color: #ccc;
        border-radius: 4px;
        overflow: auto;
        outline: none;
        resize: none;
        border: none;
        padding: 10px;
        box-sizing: border-box;
      }
      /* Prism overrides for BPL syntax (using C-like for now) */
      .token.keyword {
        color: #cc99cd;
      }
      .token.function {
        color: #f08d49;
      }
      .token.string {
        color: #7ec699;
      }
      .token.number {
        color: #f08d49;
      }
      .token.comment {
        color: #999;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>BPL Playground</h1>
      <div class="controls">
        <button id="runBtn" class="primary">Run â–¶</button>
        <button id="compileBtn">Show LLVM IR</button>
        <button id="astBtn">Show AST</button>
      </div>
    </header>

    <main>
      <aside class="sidebar">
        <h2>Tutorials</h2>
        <ul id="tutorialList">
          <!-- Populated by JS -->
        </ul>
        <div id="tutorialContent" class="tutorial-content">
          <h3 id="tutTitle">Select a tutorial</h3>
          <p id="tutDesc"></p>
        </div>
      </aside>

      <section class="editor-container">
        <div class="editor-header">Source Code (main.x)</div>
        <div id="codeEditor" class="editor language-c"></div>
      </section>

      <section class="output-container">
        <div class="tabs">
          <button class="tab active" data-target="output">Output</button>
          <button class="tab" data-target="ir">LLVM IR</button>
          <button class="tab" data-target="ast">AST</button>
          <button class="tab" data-target="warnings">Warnings</button>
        </div>
        <div id="output" class="tab-content active">
          <pre id="consoleOutput">// Run code to see output</pre>
        </div>
        <div id="ir" class="tab-content">
          <pre id="irOutput">// Compile to see LLVM IR</pre>
        </div>
        <div id="ast" class="tab-content">
          <pre id="astOutput">// Click Show AST to see AST</pre>
        </div>
        <div id="warnings" class="tab-content">
          <pre id="warnOutput">// Warnings will appear here</pre>
        </div>
      </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script type="module">
      import { CodeJar } from "https://medv.io/codejar/codejar.js";
      window.CodeJar = CodeJar;
    </script>
    <script type="module" src="script.js"></script>
  </body>
</html>
